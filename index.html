<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Shooter Game</title>
<style>
    body {
        margin: 0;
        overflow: hidden;
        background: #111;
        color: white;
        font-family: sans-serif;
    }
    canvas {
        display: block;
        background: #222;
    }
</style>
</head>
<body>
<canvas id="gameCanvas"></canvas>

<script>
const canvas = document.getElementById("gameCanvas");
const ctx = canvas.getContext("2d");

canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

let bullets = [];
let enemies = [];
let score = 0;

// Spieler
let player = { x: canvas.width / 2, y: canvas.height - 60, size: 30 };

// SchieÃŸen
window.addEventListener("click", (e) => {
    bullets.push({ x: player.x, y: player.y, size: 5, speed: 7 });
});

// Gegner spawnen
function spawnEnemy() {
    enemies.push({
        x: Math.random() * canvas.width,
        y: -20,
        size: 30,
        speed: 2 + Math.random() * 2
    });
}
setInterval(spawnEnemy, 1000);

// Spiel-Update
function update() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    // Spieler
    ctx.fillStyle = "cyan";
    ctx.beginPath();
    ctx.arc(player.x, player.y, player.size, 0, Math.PI * 2);
    ctx.fill();

    // Kugeln bewegen
    ctx.fillStyle = "yellow";
    bullets.forEach((b, i) => {
        b.y -= b.speed;
        ctx.beginPath();
        ctx.arc(b.x, b.y, b.size, 0, Math.PI * 2);
        ctx.fill();
        if (b.y < 0) bullets.splice(i, 1);
    });

    // Gegner bewegen
    ctx.fillStyle = "red";
    enemies.forEach((en, i) => {
        en.y += en.speed;
        ctx.beginPath();
        ctx.arc(en.x, en.y, en.size, 0, Math.PI * 2);
        ctx.fill();

        // Kollision mit Kugeln
        bullets.forEach((b, j) => {
            let dx = b.x - en.x;
            let dy = b.y - en.y;
            let dist = Math.sqrt(dx * dx + dy * dy);
            if (dist < en.size + b.size) {
                enemies.splice(i, 1);
                bullets.splice(j, 1);
                score++;
            }
        });

        // Game Over wenn Gegner unten ankommt
        if (en.y > canvas.height) {
            alert("Game Over! Punkte: " + score);
            enemies = [];
            bullets = [];
            score = 0;
        }
    });

    // Score
    ctx.fillStyle = "white";
    ctx.font = "20px Arial";
    ctx.fillText("Score: " + score, 10, 30);

    requestAnimationFrame(update);
}
update();

// Spieler mit Maus bewegen
window.addEventListener("mousemove", (e) => {
    player.x = e.clientX;
});
</script>
</body>
</html>